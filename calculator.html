<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LienDeadline - Mechanics Lien Deadline Calculator</title>
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìÖ</text></svg>">
    
    <!-- Lovable Scale Stylesheet (load first) -->
    <link rel="stylesheet" href="/lovable-scale.css">
    
    <!-- Tailwind Config to suppress production warning -->
    <script>
        // Suppress Tailwind warnings
        window.tailwind = window.tailwind || {};
        window.tailwind.config = {
            darkMode: false,
            theme: {
                extend: {}
            },
            plugins: []
        };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìÖ</text></svg>">
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm">
        <div class="max-w-screen-xl mx-auto px-4 py-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-blue-600">üìã LienDeadline</span>
                </div>
                <nav class="flex space-x-4">
                    <a href="index.html" class="text-gray-600 hover:text-blue-600">Home</a>
                    <a href="calculator.html" class="text-blue-600 font-semibold">Calculator</a>
                    <a href="/partners.html" class="text-gray-600 hover:text-blue-600">Partners</a>
                    <a href="#" class="text-gray-600 hover:text-blue-600">Login</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-screen-xl mx-auto px-4 py-8 sm:px-6 lg:px-8">
        <!-- Title -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">Calculate Lien Deadlines</h1>
            <p class="text-xl text-gray-600">Get instant, accurate deadline calculations for TX, CA, and FL</p>
        </div>

        <!-- Disclaimer Banner -->
        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-8">
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-yellow-700">
                        <strong>Not Legal Advice:</strong> This calculator provides general deadline information only. 
                        ALWAYS consult a licensed construction attorney before taking any legal action. 
                        Deadlines vary based on project specifics, and this tool cannot account for all variables.
                    </p>
                </div>
            </div>
        </div>

        <!-- Calculator Form -->
        <div class="bg-white shadow-lg rounded-lg p-8 mb-8">
            <form id="calculatorForm" class="space-y-6">
                <!-- Invoice Date -->
                <div>
                    <label for="invoiceDateDisplay" class="block text-sm font-medium text-gray-700 mb-2">
                        Invoice/Delivery Date <span class="text-gray-500 font-normal">(MM/DD/YYYY)</span>
                    </label>
                    <!-- Full-area click calendar + US mask -->
                    <div class="relative w-full h-16">
                        <!-- Native picker: full size, invisible, clickable -->
                        <input
                            id="invoiceDatePicker"
                            type="date"
                            style="position:absolute; inset:0; width:100%; height:100%; opacity:0; cursor:pointer; margin:0; padding:0; border:none;"
                        >
                        <!-- Visible mask: same size, read-only, updates automatically -->
                        <input
                            id="invoiceDateDisplay"
                            type="text"
                            placeholder="MM/DD/YYYY"
                            readonly
                            class="pointer-events-none w-full h-full px-5 rounded-xl border-2 border-gray-300 bg-white text-gray-900 text-lg focus:outline-none focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all"
                        >
                    </div>
                </div>

                <!-- State -->
                <div>
                    <label for="state" class="block text-sm font-medium text-gray-700 mb-2">
                        State
                    </label>
                    <select 
                        id="state" 
                        name="state"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    >
                        <option value="">Select a state...</option>
                        <option value="TX">Texas</option>
                        <option value="CA">California</option>
                        <option value="FL">Florida</option>
                        <option value="NY">New York</option>
                        <option value="PA">Pennsylvania</option>
                        <option value="IL">Illinois</option>
                        <option value="GA">Georgia</option>
                        <option value="NC">North Carolina</option>
                        <option value="WA">Washington</option>
                        <option value="OH">Ohio</option>
                        <option value="AZ">Arizona</option>
                        <option value="CO">Colorado</option>
                        <option value="VA">Virginia</option>
                        <option value="MI">Michigan</option>
                        <option value="TN">Tennessee</option>
                        <option value="MA">Massachusetts</option>
                        <option value="NJ">New Jersey</option>
                        <option value="MD">Maryland</option>
                        <option value="WI">Wisconsin</option>
                        <option value="MN">Minnesota</option>
                        <option value="IN">Indiana</option>
                        <option value="MO">Missouri</option>
                        <option value="SC">South Carolina</option>
                    </select>
                    <p class="mt-2 text-sm text-gray-500">
                        Covering 23 states (68% of US construction market). Need another state? <a href="#" class="text-blue-600 hover:underline">We'll add it in 48 hours!</a>
                    </p>
                </div>

                <!-- Role -->
                <div>
                    <label for="role" class="block text-sm font-medium text-gray-700 mb-2">
                        Your Role
                    </label>
                    <select 
                        id="role" 
                        name="role"
                        required
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    >
                        <option value="supplier">Material Supplier</option>
                        <option value="subcontractor">Subcontractor</option>
                    </select>
                </div>

                <!-- Calculate Button -->
                <button 
                    type="submit"
                    class="w-full bg-blue-600 text-white font-bold py-4 px-6 rounded-lg hover:bg-blue-700 transition duration-200 text-lg"
                >
                    Calculate Deadlines
                </button>
                
                <!-- Enhanced Legal Disclaimer -->
                <div class="bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 mt-6">
                    <p class="text-yellow-900 text-sm">
                        <strong>‚öñÔ∏è Legal Disclaimer:</strong> LienDeadline.com provides automated date calculations based on state statutes. This tool does not provide legal advice. Always confirm deadlines with counsel when required for critical decisions.
                    </p>
                </div>
            </form>
            
            <!-- Free Trial Info -->
            <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-4 text-center mb-6">
                <p class="text-gray-900 font-semibold">
                    Free Professional Trial ‚Äî 10 Deadline Calculations
                </p>
                <p class="text-gray-600 text-sm mt-1">
                    No credit card required. Email after 3 calculations.
                </p>
                <!-- Calculation Counter Display -->
                <div id="calcCounter" class="mt-3 text-sm font-semibold text-gray-700">
                    <span id="remainingCalcsTop"></span>
                </div>
            </div>
            
            <!-- What You Get -->
            <div class="bg-blue-50 rounded-lg p-6 border-2 border-blue-200 mb-8">
                <h3 class="font-bold text-gray-900 mb-4">Each Calculation Includes:</h3>
                <ul class="space-y-2 text-gray-700">
                    <li>‚úì Preliminary notice deadline (exact date)</li>
                    <li>‚úì Lien filing deadline (exact date)</li>
                    <li>‚úì Days remaining alerts</li>
                    <li>‚úì State-specific serving requirements</li>
                    <li>‚úì Critical warnings (ongoing work, monthly notices)</li>
                    <li>‚úì Legal statute references</li>
                    <li>‚úì Downloadable PDF report</li>
                </ul>
            </div>
        </div>

        <!-- Results Section (Hidden by default) -->
        <div id="results" class="hidden space-y-6">
            <!-- Preliminary Notice -->
            <div id="prelimCard" class="bg-white shadow-lg rounded-lg p-6 border-l-4">
                <h3 class="text-xl font-bold mb-4" id="prelimTitle"></h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <p class="text-sm text-gray-600">Deadline</p>
                        <p class="text-2xl font-bold" id="prelimDate"></p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600">Days From Now</p>
                        <p class="text-2xl font-bold" id="prelimDays"></p>
                    </div>
                </div>
                <p class="mt-4 text-sm text-gray-600" id="prelimDescription"></p>
            </div>

            <!-- Lien Filing -->
            <div id="lienCard" class="bg-white shadow-lg rounded-lg p-6 border-l-4">
                <h3 class="text-xl font-bold mb-4" id="lienTitle"></h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <p class="text-sm text-gray-600">Deadline</p>
                        <p class="text-2xl font-bold" id="lienDate"></p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600">Days From Now</p>
                        <p class="text-2xl font-bold" id="lienDays"></p>
                    </div>
                </div>
                <p class="mt-4 text-sm text-gray-600" id="lienDescription"></p>
            </div>

            <!-- Serving Requirements -->
            <div class="bg-blue-50 rounded-lg p-6">
                <h4 class="font-bold text-lg mb-3">Must Serve:</h4>
                <ul id="servingList" class="space-y-2"></ul>
            </div>

            <!-- Critical Warnings -->
            <div id="warningsSection" class="bg-red-50 border-l-4 border-red-400 p-6">
                <h4 class="font-bold text-lg mb-3 text-red-800">‚ö†Ô∏è Critical Warnings:</h4>
                <ul id="warningsList" class="space-y-2"></ul>
            </div>

            <!-- Statute Citations -->
            <div class="bg-gray-50 rounded-lg p-6">
                <h4 class="font-bold text-lg mb-3">Legal References:</h4>
                <ul id="citationsList" class="space-y-1 text-sm text-gray-600"></ul>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row gap-4">
                <button id="downloadPDF" class="flex-1 bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition duration-200">
                    üìÑ Download PDF Report
                </button>
            </div>

            <!-- In-Line Upgrade Prompt -->
            <div class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded">
                <p class="font-bold">Need more states or unlimited calculations?</p>
                <p class="text-sm">Upgrade to Pro for $299/month ‚Äì unlimited deadlines, PDF reports, calculation history.</p>
                <a href="https://buy.stripe.com/3cIcN5gBL8pr6MVgrP9fW00" id="upgrade-btn-inline" class="mt-2 inline-block bg-blue-600 text-white px-4 py-2 rounded">Upgrade Now</a>
            </div>

            <!-- Social Proof -->
            <div class="mt-4 p-4 bg-gray-50 rounded">
                <p class="text-sm text-gray-700">üí¨ "We eliminated 14 missed deadlines in 6 months ‚Äì ABC Supply"</p>
            </div>

            <!-- Broker CTA -->
            <div class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded">
                <p class="text-sm text-gray-600">üíº Insurance broker or consultant?</p>
                <p class="text-sm font-semibold mt-1">Earn $500 per client you refer</p>
                <a href="/partners.html" class="text-blue-600 hover:underline text-sm mt-2 inline-block">
                    Learn about our partner program ‚Üí
                </a>
            </div>

            <!-- State Expansion Email Capture -->
            <div id="stateExpansionPrompt" class="mt-6 p-4 bg-green-50 border-l-4 border-green-500 rounded hidden">
                <p class="font-bold text-gray-900 mb-1">Need more states?</p>
                <p class="text-sm text-gray-700 mb-3">We're adding NY, PA, IL, GA, NC, WA, OH, AZ, CO, VA next week. Enter email to get early access.</p>
                <div class="flex flex-col sm:flex-row gap-2">
                    <input 
                        type="email" 
                        id="stateEmailInput" 
                        placeholder="support@liendeadline.com" 
                        class="flex-1 border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-green-500"
                    >
                    <button 
                        id="notifyMeBtn" 
                        class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition duration-200 font-semibold whitespace-nowrap"
                    >
                        Notify Me
                    </button>
                </div>
                <p id="stateEmailSuccess" class="hidden mt-2 text-sm text-green-700 font-semibold">‚úì Thanks! We'll notify you when your state is available.</p>
            </div>

            <!-- Remaining Calculations Counter -->
            <div class="mt-4 text-center text-sm text-gray-600">
                <span id="remainingCalcs"></span>
            </div>

            <!-- Final Disclaimer -->
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <p class="text-sm text-gray-700">
                    <strong>Disclaimer:</strong> This is general information only, NOT legal advice. 
                    Always consult a licensed construction attorney before taking action. 
                    Deadlines vary based on project specifics.
                </p>
            </div>

            <!-- Upgrade Prompt (Hidden if logged in) -->
            <div id="upgradePrompt" class="mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-600 rounded-lg shadow-md hidden">
                <div class="flex items-start">
                    <div class="flex-shrink-0">
                        <svg class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                    </div>
                    <div class="ml-4 flex-1">
                        <h3 class="text-xl font-bold text-gray-900 mb-2">‚ö° Need Unlimited Calculations?</h3>
                        <p class="text-gray-700 mb-3">
                            Your free trial includes <strong>10 calculations total</strong>.
                        </p>
                        <p class="text-gray-700 mb-4">
                            Upgrade to <strong>Pro</strong> for <span class="text-2xl font-bold text-blue-600">$299/month</span>:
                        </p>
                        <ul class="space-y-2 mb-6">
                            <li class="flex items-center text-gray-700">
                                <svg class="h-5 w-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <strong>Unlimited</strong> calculations for 23 states
                            </li>
                            <li class="flex items-center text-gray-700">
                                <svg class="h-5 w-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <strong>PDF reports</strong> with your company logo
                            </li>
                            <li class="flex items-center text-gray-700">
                                <svg class="h-5 w-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <strong>Calculation history</strong> - never lose a deadline
                            </li>
                            <li class="flex items-center text-gray-700">
                                <svg class="h-5 w-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <strong>Export to Excel/CSV</strong>
                            </li>
                            <li class="flex items-center text-gray-700">
                                <svg class="h-5 w-5 text-green-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                <strong>Priority support</strong> (email + phone)
                            </li>
                        </ul>
                        <div class="flex flex-col sm:flex-row gap-3">
                            <a 
                                href="https://buy.stripe.com/3cIcN5gBL8pr6MVgrP9fW00" 
                                class="inline-flex items-center justify-center bg-blue-600 text-white font-bold px-8 py-3 rounded-lg hover:bg-blue-700 transition shadow-lg"
                            >
                                Upgrade to Pro - $299/month
                            </a>
                            <button 
                                onclick="this.parentElement.parentElement.parentElement.style.display='none'"
                                class="inline-flex items-center justify-center border-2 border-gray-300 text-gray-700 font-semibold px-6 py-3 rounded-lg hover:bg-gray-50 transition"
                            >
                                Maybe Later
                            </button>
                        </div>
                        <p class="text-sm text-gray-600 mt-4">
                            ‚úì Cancel anytime ‚Ä¢ ‚úì No setup fees ‚Ä¢ ‚úì Used by 50+ companies
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Email Gate Modal (shows after 3 calculations) -->
    <div id="emailModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md mx-4">
            <h2 class="text-2xl font-bold mb-4">Unlock 7 More Free Calculations</h2>
            <p class="text-gray-600 mb-6">Enter your email to unlock 7 more calculations (10 total in your free trial).</p>
            <input type="email" id="emailInput" placeholder="your@email.com" class="border border-gray-300 p-3 w-full rounded mb-4">
            <button id="submitEmail" class="bg-blue-600 text-white px-6 py-3 rounded w-full hover:bg-blue-700">
                Continue Free
            </button>
            <p class="text-xs text-gray-500 mt-4">No spam. We'll only send you lien deadline tips.</p>
        </div>
    </div>

    <!-- Upgrade Modal (shows after 10 calculations) -->
    <div id="upgradeModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white p-8 rounded-lg shadow-xl max-w-md mx-4">
            <h2 class="text-2xl font-bold mb-4">Your Free Trial Has Ended</h2>
            <p class="text-gray-600 mb-6">You've used all 10 free trial calculations. Upgrade to Pro for unlimited calculations, PDF reports, and calculation history.</p>
            <div class="mb-6 p-4 bg-gray-50 rounded">
                <p class="font-semibold">Pro Plan: $299/month</p>
                <ul class="text-sm mt-2 space-y-1">
                    <li>‚úì Unlimited calculations</li>
                    <li>‚úì All 23 states</li>
                    <li>‚úì PDF reports</li>
                    <li>‚úì Calculation history</li>
                </ul>
            </div>
            <a href="https://buy.stripe.com/3cIcN5gBL8pr6MVgrP9fW00" class="block bg-blue-600 text-white px-6 py-3 rounded text-center hover:bg-blue-700">
                Upgrade Now
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-16 py-8">
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h4 class="font-semibold mb-4">Product</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="calculator.html" class="text-gray-300 hover:text-white">Calculator</a></li>
                        <li><a href="/api.html" class="text-gray-300 hover:text-white">API Docs</a></li>
                        <li><a href="/vs-levelset.html" class="text-gray-300 hover:text-white">Levelset Alternative</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-4">Company</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="/partners.html" class="text-gray-300 hover:text-white">Partners</a></li>
                        <li><a href="/privacy.html" class="text-gray-300 hover:text-white">Privacy</a></li>
                        <li><a href="/terms.html" class="text-gray-300 hover:text-white">Terms</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 pt-8 text-center text-sm text-gray-400">
                <p>¬© 2025 LienDeadline.com. Not legal advice.</p>
            </div>
        </div>
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <p class="text-sm">&copy; 2025 LienDeadline. Not legal advice. Consult an attorney.</p>
                <p class="text-xs mt-2 text-gray-400">
                    <a href="terms.html" class="hover:text-white">Terms of Service</a> | 
                    <a href="#" class="hover:text-white">Privacy Policy</a> |
                    <a href="/partners.html" class="hover:text-white">Become a Partner</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="/calculator.js"></script>
    
    <!-- Privacy-friendly analytics by Plausible -->
    <script async src="https://plausible.io/js/pa-2jUNdTEsBtWPPoGO3KG8h.js"></script>
    <script>
      window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
      plausible.init()
    </script>
</body>
</html>

